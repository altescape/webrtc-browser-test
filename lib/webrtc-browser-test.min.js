"use strict";!function(){var e=function(e,t){var r=new Error(t);return r.name=e,r},t=function(t){"string"==typeof t.videoElementContainer&&(t.videoElementContainer=document.querySelector(t.videoElementContainer)),"string"==typeof t.volumeMeterElement&&(t.volumeMeterElement=document.querySelector(t.volumeMeterElement));var r=function(e){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e):navigator.getUserMedia?new Promise(function(t,r){navigator.getUserMedia(e,t,r)}):navigator.mozGetUserMedia?new Promise(function(t,r){navigator.mozGetUserMedia(e,t,r)}):navigator.webkitGetUserMedia?new Promise(function(t,r){navigator.webkitGetUserMedia(e,t,r)}):void 0},o=function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia?Promise.resolve():Promise.reject(e("BrowserNotSupported","Your browser doesn't support WebRTC."))};return{checkBrowser:o,startVideo:function(){var e=document.querySelector("#videoContainer > video");return e||(e=document.createElement("video"),e.setAttribute("autoplay",!0),t.videoElementContainer.appendChild(e)),o().then(function(){return r({video:!0}).then(function(t){return e.srcObject=t,Promise.resolve()})})}}};"undefined"==typeof module||void 0===module.exports?window.WebRtcBrowserTest=t:module.exports=t}();